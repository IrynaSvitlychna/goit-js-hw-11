{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport xOctagon from \"/img/bi_x-octagon.svg\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst searchingForm = document.querySelector('#form');\nconst searchInput = document.querySelector('#searchInput');\nconst searchButton = document.querySelector('.search-btn');\nconst gallery = document.querySelector('.gallery');\nconst container = document.querySelector('.container');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    className: 'lightbox-on',\n  });\n\n  const errorOptions = {\n    title: '',\n    iconUrl: `${xOctagon}`,\n    backgroundColor: '#EF4040',\n    titleColor: '#fff',\n    messageColor: '#fff',\n    theme: 'dark',\n    messageSize: '16px',\n    progressBarColor: '#B5EA7C',\n    position: 'topRight',\n  };\n\n  searchingForm.addEventListener('submit', requestImages);\n\n  function requestImages(event) {\n    event.preventDefault();\n    gallery.innerHTML = '';\n    addLoading();\n    \n    const searchingOptions = new URLSearchParams({\n      key: '41942157-8ce243761fb563c2a1b85d8a4',\n      q: searchInput.value,\n      orientation: 'horizontal',\n      per_page: 9,\n      image_type: 'photo',\n      safesearch: true,\n    });\n  \n    fetch(`https://pixabay.com/api/?${searchingOptions}`)\n    .then(response => {\n     \n      return response.json();\n    })\n    .then(api => {\n      const imagesArray = api.hits;\n      if (imagesArray.length === 0) {\n        throw new Error(\n          `There are no images matching your search query. Please try again!`\n        );\n      }\n      \n      galleryCreation(imagesArray);\n      removeLoading();\n    })\n    .catch(error => {\n      console.log(error);\n      iziToast.error(\n        errorOptions,\n        (errorOptions.message = `Sorry! ${error.message}`)\n      );\n      removeLoading();\n    });\n}\n\nfunction galleryCreation(imagesArray) {\n    const markup = imagesArray\n      .toSorted((a, b) => b.likes - a.likes)\n      .map(({  webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n        return `<li class=\"gallery-item\"><div class='image-wrapper'>\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\"\n        width=\"360\"\n        height=\"200\"\n      />\n    </a>\n    <div class=\"gallery-item-description\">\n        <ul class='gallery-item-description-list'>\n            <li class='description-list-item'>\n                <p class='description'>Likes</p>\n                <p class='quantity'>${likes}</p>\n            </li>\n            <li class='description-list-item'>\n                <p class='description'>Views</p>\n                <p class='quantity'>${views}</p>\n            </li>\n            <li class='description-list-item'>\n                <p class='description'>Comments</p>\n                <p class='quantity'>${comments}</p>\n            </li>\n            <li class='description-list-item'>\n                <p class='description'>Downloads</p>\n                <p class='quantity'>${downloads}</p>\n            </li>\n        </ul>\n      </div>\n    </div>\n    </li>`;\n    })\n      .join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n  }\n\n\n  function addLoading() {\n    container.insertAdjacentHTML('afterbegin', '<div class=\"loader\"></div>');\n    searchButton.disabled = true;\n    searchButton.classList.add('search-btn-disabled');\n  }\n\n  function removeLoading() {\n    const loader = document.querySelector('.loader');\n    loader.remove();\n    searchButton.disabled = false;\n    searchButton.classList.remove('search-btn-disabled');\n    searchingForm.reset();\n  }"],"names":["xOctagon","searchingForm","searchInput","searchButton","gallery","container","lightbox","SimpleLightbox","errorOptions","requestImages","event","addLoading","searchingOptions","response","api","imagesArray","galleryCreation","removeLoading","error","iziToast","markup","a","b","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"6vBAAA,MAAeA,EAAA,kDCSTC,EAAgB,SAAS,cAAc,OAAO,EAC9CC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,YAAY,EAErD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,IACd,UAAW,aACf,CAAG,EAED,MAAMC,EAAe,CACnB,MAAO,GACP,QAAS,GAAGR,IACZ,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,MAAO,OACP,YAAa,OACb,iBAAkB,UAClB,SAAU,UACd,EAEEC,EAAc,iBAAiB,SAAUQ,CAAa,EAEtD,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EACpBN,EAAQ,UAAY,GACpBO,IAEA,MAAMC,EAAmB,IAAI,gBAAgB,CAC3C,IAAK,qCACL,EAAGV,EAAY,MACf,YAAa,aACb,SAAU,EACV,WAAY,QACZ,WAAY,EAClB,CAAK,EAED,MAAM,4BAA4BU,GAAkB,EACnD,KAAKC,GAEGA,EAAS,MACjB,EACA,KAAKC,GAAO,CACX,MAAMC,EAAcD,EAAI,KACxB,GAAIC,EAAY,SAAW,EACzB,MAAM,IAAI,MACR,mEACV,EAGMC,EAAgBD,CAAW,EAC3BE,GACN,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MACPX,EACCA,EAAa,QAAU,UAAUU,EAAM,SAChD,EACMD,GACN,CAAK,CACL,CAEA,SAASD,EAAgBD,EAAa,CAClC,MAAMK,EAASL,EACZ,SAAS,CAACM,EAAGC,IAAMA,EAAE,MAAQD,EAAE,KAAK,EACpC,IAAI,CAAC,CAAG,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC3D;AAAA,oCACqBL;AAAA;AAAA;AAAA,eAGrBD;AAAA,eACAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCASuBC;AAAA;AAAA;AAAA;AAAA,sCAIAC;AAAA;AAAA;AAAA;AAAA,sCAIAC;AAAA;AAAA;AAAA;AAAA,sCAIAC;AAAA;AAAA;AAAA;AAAA;AAAA,UAMjC,EACE,KAAK,EAAE,EACVzB,EAAQ,mBAAmB,YAAagB,CAAM,EAC9Cd,EAAS,QAAO,CACjB,CAGD,SAASK,GAAa,CACpBN,EAAU,mBAAmB,aAAc,4BAA4B,EACvEF,EAAa,SAAW,GACxBA,EAAa,UAAU,IAAI,qBAAqB,CACjD,CAED,SAASc,GAAgB,CACR,SAAS,cAAc,SAAS,EACxC,OAAM,EACbd,EAAa,SAAW,GACxBA,EAAa,UAAU,OAAO,qBAAqB,EACnDF,EAAc,MAAK,CACvB"}